\doxysection{functions.\+hpp}
\hypertarget{functions_8hpp_source}{}\label{functions_8hpp_source}\index{src/functions.hpp@{src/functions.hpp}}
\mbox{\hyperlink{functions_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#ifndef\ FUNCTIONS}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#define\ FUNCTIONS}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}../run\_config/toml.hpp"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}input\_neuron.hpp"{}}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}log.hpp"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}neuron.hpp"{}}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <filesystem>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <ostream>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <pthread.h>}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <unistd.h>}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{using\ }std::copy\_if;}
\DoxyCodeLine{00022\ \textcolor{keyword}{using\ }std::cout;}
\DoxyCodeLine{00023\ \textcolor{keyword}{using\ }std::distance;}
\DoxyCodeLine{00024\ \textcolor{keyword}{using\ }std::vector;}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{classLog}{Log}}\ lg;}
\DoxyCodeLine{00027\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{bool}\ active;}
\DoxyCodeLine{00028\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ WAIT\_TIME;}
\DoxyCodeLine{00029\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ WAIT\_LOOPS;}
\DoxyCodeLine{00030\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{double}\ DECAY\_VALUE;}
\DoxyCodeLine{00031\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ RAND\_SEED;}
\DoxyCodeLine{00032\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ NUMBER\_NEURONS;}
\DoxyCodeLine{00033\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ NUMBER\_EDGES;}
\DoxyCodeLine{00034\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ NUMBER\_GROUPS;}
\DoxyCodeLine{00035\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ RUN\_TIME;}
\DoxyCodeLine{00036\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{double}\ DECAY\_VALUE;}
\DoxyCodeLine{00037\ \textcolor{keyword}{extern}\ ostream\ \&STREAM;}
\DoxyCodeLine{00038\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ INITIAL\_MEMBRANE\_POTENTIAL;}
\DoxyCodeLine{00039\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ ACTIVATION\_THRESHOLD;}
\DoxyCodeLine{00040\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ REFRACTORY\_MEMBRANE\_POTENTIAL;}
\DoxyCodeLine{00041\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ NUMBER\_INPUT\_NEURONS;}
\DoxyCodeLine{00042\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{double}\ TAU;}
\DoxyCodeLine{00043\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{double}\ INPUT\_PROB\_SUCCESS;}
\DoxyCodeLine{00044\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{double}\ REFRACTORY\_DURATION;}
\DoxyCodeLine{00045\ \textcolor{keyword}{extern}\ std::string\ INPUT\_FILE;}
\DoxyCodeLine{00046\ \textcolor{keyword}{extern}\ std::string\ CONFIG\_FILE;}
\DoxyCodeLine{00047\ \textcolor{keyword}{extern}\ vector<int>\ STIMULUS\_VEC;}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{keyword}{typedef}\ std::map<Neuron\ *,\ double>\ weight\_map;}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \textcolor{keywordtype}{int}\ maximum\_edges();}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \textcolor{keywordtype}{void}\ check\_start\_conditions();}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \textcolor{keywordtype}{void}\ destroy\_mutexes();}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00065\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{functions_8hpp_a958ffc3242e8552f1eaa225dbe86ecff}{random\_synapses}}(vector<NeuronGroup\ *>\ \&groups);}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \textcolor{comment}{//\ Print\ membrane\ potential\ of\ all\ neurons\ in\ vector}}
\DoxyCodeLine{00068\ \textcolor{comment}{//}}
\DoxyCodeLine{00069\ \textcolor{comment}{//\ @param1:\ vector\ of\ Neuron\ pointers}}
\DoxyCodeLine{00070\ \textcolor{keywordtype}{void}\ print\_node\_values(vector<Neuron\ *>\ nodes);}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{comment}{//\ Prints\ out\ the\ current\ time\ with\ microsecond\ granularity}}
\DoxyCodeLine{00073\ \textcolor{comment}{//}}
\DoxyCodeLine{00074\ \textcolor{keywordtype}{void}\ print\_time(std::ostream\ \&os\ =\ std::cout);}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \textcolor{comment}{//\ Returns\ random\ weight\ for\ an\ edge}}
\DoxyCodeLine{00077\ \textcolor{comment}{//}}
\DoxyCodeLine{00078\ \textcolor{comment}{//\ Returns\ a\ value\ in\ the\ range\ [0,1]\ inclusive}}
\DoxyCodeLine{00079\ \textcolor{comment}{//\ based\ on\ the\ rand()\ function.\ The\ seed\ is\ set\ in\ ./src/main}}
\DoxyCodeLine{00080\ \textcolor{comment}{//\ Seed\ is\ default\ the\ time\ since\ epoch}}
\DoxyCodeLine{00081\ \textcolor{comment}{//}}
\DoxyCodeLine{00082\ \textcolor{comment}{//\ @return:\ double\ in\ range\ [0,1]}}
\DoxyCodeLine{00083\ \textcolor{keywordtype}{double}\ weight\_function();}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \textcolor{comment}{//\ Returns\ either\ -\/1\ or\ 1}}
\DoxyCodeLine{00086\ \textcolor{comment}{//}}
\DoxyCodeLine{00087\ \textcolor{comment}{//\ Returns\ either\ -\/1\ or\ 1\ based\ on\ the\ rand()\ function.}}
\DoxyCodeLine{00088\ \textcolor{comment}{//\ The\ seed\ is\ set\ in\ ./src/main}}
\DoxyCodeLine{00089\ \textcolor{comment}{//\ Seed\ is\ default\ the\ time\ since\ epoch}}
\DoxyCodeLine{00090\ \textcolor{comment}{//}}
\DoxyCodeLine{00091\ \textcolor{comment}{//\ @return:\ 1\ or\ -\/1}}
\DoxyCodeLine{00092\ \textcolor{keywordtype}{int}\ get\_inhibitory\_status();}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \textcolor{comment}{//\ Get\ total\ number\ of\ neurons\ in\ a\ group}}
\DoxyCodeLine{00095\ \textcolor{comment}{//}}
\DoxyCodeLine{00096\ \textcolor{comment}{//@param1\ const\ reference\ to\ the\ NeuronGroup\ vector}}
\DoxyCodeLine{00097\ \textcolor{comment}{//@returns\ total\ neuron\ count}}
\DoxyCodeLine{00098\ \textcolor{keywordtype}{int}\ get\_neuron\_count(\textcolor{keyword}{const}\ vector<NeuronGroup\ *>\ \&groups);}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \textcolor{comment}{//\ Get\ a\ random\ neuron\ from\ the\ group\ list}}
\DoxyCodeLine{00101\ \textcolor{comment}{//}}
\DoxyCodeLine{00102\ \textcolor{comment}{//@param1\ const\ reference\ to\ the\ NeuronGroup\ vector}}
\DoxyCodeLine{00103\ \textcolor{comment}{//@return\ pointer\ to\ neuron}}
\DoxyCodeLine{00104\ \mbox{\hyperlink{classNeuron}{Neuron}}\ *get\_random\_neuron(\textcolor{keyword}{const}\ vector<NeuronGroup\ *>\ \&group,}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ input\_type\_allowed\ =\ \textcolor{keyword}{true});}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \textcolor{comment}{//\ Get\ the\ string\ form\ of\ the\ active\ status\ of\ a\ neuron}}
\DoxyCodeLine{00108\ \textcolor{comment}{//}}
\DoxyCodeLine{00109\ \textcolor{comment}{//@param1\ bool\ (Neuron::active)}}
\DoxyCodeLine{00110\ \textcolor{comment}{//@return\ const\ char*\ of\ "{}active"{}\ or\ "{}inactive"{}}}
\DoxyCodeLine{00111\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *get\_active\_status\_string(\textcolor{keywordtype}{bool}\ active);}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \textcolor{comment}{//\ Construct\ a\ message}}
\DoxyCodeLine{00114\ \textcolor{comment}{//}}
\DoxyCodeLine{00115\ \textcolor{comment}{//@param1:\ value\ for\ message}}
\DoxyCodeLine{00116\ \textcolor{comment}{//@param2:\ target\ neuron}}
\DoxyCodeLine{00117\ \textcolor{comment}{//@returns:\ pointer\ to\ dynamically\ allocated\ Message}}
\DoxyCodeLine{00118\ \mbox{\hyperlink{structMessage}{Message}}\ *construct\_message(\textcolor{keywordtype}{double}\ value,\ \mbox{\hyperlink{classNeuron}{Neuron}}\ *target);}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \textcolor{comment}{//\ Construct\ a\ message}}
\DoxyCodeLine{00121\ \textcolor{comment}{//}}
\DoxyCodeLine{00122\ \textcolor{comment}{//@param1:\ value\ for\ message}}
\DoxyCodeLine{00123\ \textcolor{comment}{//@param2:\ target\ neuron}}
\DoxyCodeLine{00124\ \textcolor{comment}{//@param3:\ Message\_t}}
\DoxyCodeLine{00125\ \textcolor{comment}{//@returns:\ pointer\ to\ dynamically\ allocated\ Message}}
\DoxyCodeLine{00126\ \mbox{\hyperlink{structMessage}{Message}}\ *construct\_message(\textcolor{keywordtype}{double}\ value,\ \mbox{\hyperlink{classNeuron}{Neuron}}\ *target,\ Message\_t\ type);}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \textcolor{comment}{//\ Prints\ out\ a\ message\ via\ the\ Log\ class}}
\DoxyCodeLine{00129\ \textcolor{comment}{//}}
\DoxyCodeLine{00130\ \textcolor{comment}{//@param1:\ pointer\ to\ message}}
\DoxyCodeLine{00131\ \textcolor{keywordtype}{void}\ print\_message(\mbox{\hyperlink{structMessage}{Message}}\ *message);}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \textcolor{comment}{//\ Thread\ helper\ to\ run\ message\ thread}}
\DoxyCodeLine{00134\ \textcolor{comment}{//}}
\DoxyCodeLine{00135\ \textcolor{comment}{//\ Correct\ function\ signature\ so\ that}}
\DoxyCodeLine{00136\ \textcolor{comment}{//\ \`{}send\_messages`\ can\ be\ run\ in\ a\ thread}}
\DoxyCodeLine{00137\ \textcolor{comment}{//}}
\DoxyCodeLine{00138\ \textcolor{comment}{//\ @param1\ MUST\ BE\ \`{}void*`\ to\ a\ \`{}vector<Message*>`}}
\DoxyCodeLine{00139\ \textcolor{keywordtype}{void}\ *send\_message\_helper(\textcolor{keywordtype}{void}\ *messages);}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \textcolor{comment}{//\ Send\ messages\ on\ loop\ every\ WAIT\_TIME\ *\ WAIT\_LOOPS}}
\DoxyCodeLine{00142\ \textcolor{comment}{//\ to\ every\ neuron}}
\DoxyCodeLine{00143\ \textcolor{comment}{//}}
\DoxyCodeLine{00144\ \textcolor{comment}{//\ While\ ::active,\ sends\ the\ repective\ message\ to\ every}}
\DoxyCodeLine{00145\ \textcolor{comment}{//\ neuron\ every\ WAIT\_TIME\ *\ WAIT\_LOOPS}}
\DoxyCodeLine{00146\ \textcolor{comment}{//\ activates\ the\ recieving\ neuron}}
\DoxyCodeLine{00147\ \textcolor{comment}{//}}
\DoxyCodeLine{00148\ \textcolor{comment}{//\ @param1:\ pointer\ to\ the\ message\ vector}}
\DoxyCodeLine{00149\ \textcolor{keywordtype}{void}\ send\_messages(\textcolor{keyword}{const}\ vector<Message\ *>\ *messages);}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \textcolor{comment}{//\ Deallocates\ the\ memory\ held\ in\ the\ message\ vector}}
\DoxyCodeLine{00152\ \textcolor{comment}{//}}
\DoxyCodeLine{00153\ \textcolor{comment}{//\ @param1:\ pointer\ to\ the\ message\ vector}}
\DoxyCodeLine{00154\ \textcolor{keywordtype}{void}\ deallocate\_message\_vector(\textcolor{keyword}{const}\ vector<Message\ *>\ *messages);}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \textcolor{comment}{//\ Thread\ helper\ to\ run\ decay\ thread}}
\DoxyCodeLine{00157\ \textcolor{comment}{//}}
\DoxyCodeLine{00158\ \textcolor{comment}{//\ Correct\ function\ signature\ so\ that}}
\DoxyCodeLine{00159\ \textcolor{comment}{//\ \`{}decay\_neurons`\ can\ be\ run\ in\ a\ thread}}
\DoxyCodeLine{00160\ \textcolor{comment}{//}}
\DoxyCodeLine{00161\ \textcolor{comment}{//\ @param1\ MUST\ BE\ \`{}void*`\ to\ a\ \`{}vector<NeuronGroup*>`}}
\DoxyCodeLine{00162\ \textcolor{keywordtype}{void}\ *decay\_helper(\textcolor{keywordtype}{void}\ *groups);}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \textcolor{comment}{//\ Decays\ every\ neuron\ on\ timer}}
\DoxyCodeLine{00165\ \textcolor{comment}{//}}
\DoxyCodeLine{00166\ \textcolor{comment}{//\ While\ ::active,\ decays\ every\ neruon\ every}}
\DoxyCodeLine{00167\ \textcolor{comment}{//\ \`{}WAIT\_LOOPS`\ *\ \`{}WAIT\_TIME`\ by\ \`{}DECAY\_VALUE`}}
\DoxyCodeLine{00168\ \textcolor{comment}{//}}
\DoxyCodeLine{00169\ \textcolor{comment}{//\ @param1\ pointer\ to\ the\ neuron\ group\ vector}}
\DoxyCodeLine{00170\ \textcolor{keywordtype}{void}\ decay\_neurons(vector<NeuronGroup\ *>\ *groups);}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \textcolor{comment}{//\ Parse\ command\ line\ arguements}}
\DoxyCodeLine{00173\ \textcolor{comment}{//}}
\DoxyCodeLine{00174\ \textcolor{comment}{//\ Looks\ for\ config.toml\ file\ or\ help\ command}}
\DoxyCodeLine{00175\ \textcolor{comment}{//\ If\ the\ toml\ is\ found,\ tries\ to\ use\ it;\ otherwise,}}
\DoxyCodeLine{00176\ \textcolor{comment}{//\ uses\ the\ default}}
\DoxyCodeLine{00177\ \textcolor{keywordtype}{int}\ parse\_command\_line\_args(\textcolor{keywordtype}{char}\ **argv,\ \textcolor{keywordtype}{int}\ argc);}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \textcolor{comment}{//\ Creates\ base\_toml\ if\ needed\ and\ sets\ settings}}
\DoxyCodeLine{00180\ \textcolor{comment}{//}}
\DoxyCodeLine{00181\ \textcolor{keywordtype}{void}\ use\_base\_toml();}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \textcolor{comment}{//\ Creates\ base\_toml}}
\DoxyCodeLine{00184\ \textcolor{keywordtype}{void}\ create\_base\_toml();}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \textcolor{comment}{//\ Sets\ all\ global\ variables\ based\ on}}
\DoxyCodeLine{00187\ \textcolor{comment}{//\ keys\ in\ toml\ file}}
\DoxyCodeLine{00188\ \textcolor{comment}{//}}
\DoxyCodeLine{00189\ \textcolor{comment}{//\ @param1\ file\_name}}
\DoxyCodeLine{00190\ \textcolor{keywordtype}{int}\ set\_options(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *file\_name);}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \textcolor{comment}{//\ Checks\ to\ see\ if\ a\ file\ file\_exists}}
\DoxyCodeLine{00193\ \textcolor{comment}{//}}
\DoxyCodeLine{00194\ \textcolor{comment}{//\ @param1\ file\_name}}
\DoxyCodeLine{00195\ \textcolor{keywordtype}{bool}\ file\_exists(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *file\_name);}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \textcolor{comment}{//\ Get\ enum\ member\ from\ LogLevel\ from\ string}}
\DoxyCodeLine{00198\ \textcolor{comment}{//}}
\DoxyCodeLine{00199\ \textcolor{comment}{//\ @param1\ string\ version\ of\ enum\ members}}
\DoxyCodeLine{00200\ LogLevel\ get\_level\_from\_string(std::string\ level);}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \textcolor{comment}{//\ Assign\ neurons\ to\ groups\ based\ on\ global\ variable\ counts}}
\DoxyCodeLine{00203\ \textcolor{comment}{//}}
\DoxyCodeLine{00204\ \textcolor{comment}{//\ Accounts\ for\ non-\/devisible\ neuron\ amounts\ and\ creates}}
\DoxyCodeLine{00205\ \textcolor{comment}{//\ the\ most\ evenly\ distruted\ groups\ possible}}
\DoxyCodeLine{00206\ \textcolor{comment}{//}}
\DoxyCodeLine{00207\ \textcolor{comment}{//\ @param1\ reference\ to\ neuron\ groups\ vector}}
\DoxyCodeLine{00208\ \textcolor{keywordtype}{void}\ assign\_groups(vector<NeuronGroup\ *>\ \&neuron\_groups);}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \textcolor{keywordtype}{void}\ assign\_neuron\_types(vector<NeuronGroup\ *>\ \&groups);}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00212\ std::string\ io\_type\_to\_string(Neuron\_t\ type);}
\DoxyCodeLine{00213\ std::string\ message\_type\_to\_string(Message\_t\ type);}
\DoxyCodeLine{00214\ \textcolor{keywordtype}{void}\ construct\_input\_neuron\_vector(\textcolor{keyword}{const}\ vector<NeuronGroup\ *>\ \&groups,}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vector<InputNeuron\ *>\ \&input\_neurons);}
\DoxyCodeLine{00216\ \textcolor{keywordtype}{void}\ get\_next\_line(std::string\ \&line);}
\DoxyCodeLine{00217\ \textcolor{keywordtype}{void}\ set\_next\_line(\textcolor{keyword}{const}\ vector<InputNeuron\ *>\ \&input\_neurons);}
\DoxyCodeLine{00218\ \textcolor{keywordtype}{void}\ set\_line\_x(\textcolor{keyword}{const}\ vector<InputNeuron\ *>\ \&input\_neurons,\ \textcolor{keywordtype}{int}\ target);}
\DoxyCodeLine{00219\ \textcolor{keywordtype}{void}\ get\_line\_x(std::string\ \&line,\ \textcolor{keywordtype}{int}\ target);}
\DoxyCodeLine{00220\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ !FUNCTIONS}}

\end{DoxyCode}
